(window["webpackJsonpmy-react"]=window["webpackJsonpmy-react"]||[]).push([[17],{220:function(e,t,n){"use strict";n.r(t),function(e,o){n.d(t,"default",(function(){return w}));n(234);var a=n(235),i=n.n(a),l=(n(246),n(248)),c=n.n(l),r=(n(252),n(253)),s=n.n(r),u=(n(256),n(258)),m=n.n(u),g=n(16),h=n(17),f=n(19),p=n(18),d=n(20),b=(n(265),n(232)),v=n(24),y=n(42),k=/^1(3|5|7|8|9)\d{9}$/,C=/^\d{4}$/,E=null,S=60,w=function(e){function t(){var e;return Object(g.a)(this,t),(e=Object(f.a)(this,Object(p.a)(t).call(this))).setMobile=function(t){var n=e.code.state.value;e.setState({phoneFlag:k.test(t),loginFlag:k.test(t)&&C.test(n)})},e.setCode=function(t){e.setState({loginFlag:k.test(e.mobile.state.value)&&C.test(t)})},e.receiveCode=function(){E=setInterval((function(){e.state.num>0?(e.state.num--,e.setState({num:e.state.num,txt:"\u8fd8\u5269".concat(e.state.num,"S"),phoneFlag:!1,toggle:!1})):(e.setState({num:S,txt:"\u83b7\u53d6\u9a8c\u8bc1\u7801",phoneFlag:!0,toggle:!0}),clearInterval(E))}),1e3),v.a.post("/react/sendCode",{mobile:e.mobile.state.value})},e.gotoLogin=function(){v.a.post("/react/checkCode",{mobile:e.mobile.state.value,code:e.code.state.value}).then((function(t){t.data.type?(y.a.push("/index/mine"),sessionStorage.token=t.data.token,sessionStorage.mobile=e.mobile.state.value):sessionStorage.token=""}))},e.state={phoneFlag:!1,loginFlag:!1,txt:"\u83b7\u53d6\u9a8c\u8bc1\u7801",num:S,toggle:!0},e}return Object(d.a)(t,e),Object(h.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(E)}},{key:"render",value:function(){var e=this,t=this.state,n=t.phoneFlag,a=t.loginFlag,l=t.txt,r=t.toggle;return o.createElement("div",{className:"loginView"},o.createElement(b.a,{title:"\u767b\u5f55",leftShow:!0}),o.createElement(i.a,{style:{marginTop:"3.5rem"}},o.createElement(m.a,{placeholder:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7",type:"tel",clear:!0,ref:function(t){return e.mobile=t},onChange:this.setMobile,disabled:!r}),o.createElement(m.a,{type:"number",placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",clear:!0,ref:function(t){return e.code=t},onChange:this.setCode}),o.createElement(s.a,{inline:!0,className:"l-btn",onClick:this.receiveCode,disabled:!n},l),o.createElement(c.a,null)),o.createElement(s.a,{onClick:this.gotoLogin,disabled:!a},"\u767b\u5f55"))}}]),t}(e)}.call(this,n(0).Component,n(0))},232:function(e,t,n){"use strict";(function(e,o){n.d(t,"a",(function(){return d}));n(240);var a=n(241),i=n.n(a),l=(n(242),n(243)),c=n.n(l),r=(n(112),n(113)),s=n.n(r),u=n(16),m=n(17),g=n(19),h=n(18),f=n(20),p=(n(233),n(42)),d=function(e){function t(){var e,n;Object(u.a)(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=Object(g.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).goBack=function(e){e&&p.a.go(-1)},n.gotoSearch=function(){p.a.push("/search")},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,a=t.leftShow,i=t.rightShow,l=t.typeShow,r=t.mineShow;return o.createElement(c.a,{style:{position:"relative"},mode:"light",icon:a&&o.createElement(s.a,{style:{color:"#333"},type:"left"}),onLeftClick:function(){return e.goBack(a)},rightContent:[i&&o.createElement(s.a,{key:"0",type:"search",style:{marginRight:"0.2rem",color:"#333"},onClick:this.gotoSearch})]},n,l&&o.createElement("p",{style:{position:"absolute",right:"0",top:"0.3rem",fontSize:"0.3rem",marginRight:"0.25rem",lineHeight:1}},"\u53ea\u770b\u8bc4\u8bba"),r&&o.createElement("p",{style:{color:"#333333",position:"absolute",right:"0",top:"0.3rem"}},o.createElement("i",{className:"iconfont icon-biaoqing",onClick:function(){return v("\u591c\u95f4\u6a21\u5f0f","\u79f0\u4e3a\u4f1a\u5458\u540e\uff0c\u5373\u53ef\u4f7f\u7528\u5e26\u6709\u6697\u9ed1\u4e3b\u9898\u7684\u591c\u95f4\u6a21\u5f0f\uff0c\u5206\u4eab\u6697\u8272\u4e3b\u9898\u5361\u7247\uff0c\u4ee5\u53ca\u66f4\u591a\u9ad8\u7ea7\u529f\u80fd\u3002")}}),o.createElement("i",{className:"iconfont icon-xingtaiduICON_sousuo--",onClick:function(){return v("\u5feb\u901f\u641c\u7d22","\u79f0\u4e3a\u4f1a\u5458\u540e\uff0c\u5373\u53ef\u5feb\u901f\u641c\u7d22\u81ea\u5df1\u521b\u5efa\u641c\u7d22\u81ea\u5df1\u521b\u5efa/\u6536\u85cf\u7684\u5361\u7247\uff0c\u4ee5\u53ca\u4f7f\u7528\u66f4\u591a\u9ad8\u7ea7\u529f\u80fd\u3002")}}),o.createElement("i",{className:"iconfont icon-shezhi",onClick:function(){return p.a.push("/fit")}})))}}]),t}(e),b=i.a.alert,v=function(e,t){var n=b(e,t,[{text:"\u53d6\u6d88",onPress:function(){return console.log("cancel")},style:"default"},{text:"\u4e86\u89e3\u4f1a\u5458",onPress:function(){return console.log("ok")}}]);setTimeout((function(){console.log("auto close"),n.close()}),5e5)}}).call(this,n(0).Component,n(0))},233:function(e,t,n){},265:function(e,t,n){}}]);
//# sourceMappingURL=17.aac2f009.chunk.js.map