{"version":3,"sources":["scripts/views/mine/index.js","scripts/components/head/index.js","assets/images/touxiang.jpg","scripts/components/uploadImg/index.js"],"names":["Item","Mine","todoLogin","history","push","clearLogin","sessionStorage","token","mobile","state","isLogin","this","title","mineShow","style","display","width","height","justifyContent","alignItems","backgroundColor","background","backgroundSize","renderHeader","className","arrow","multipleLine","onClick","marginRight","textAlign","color","fontFamily","fontSize","margin","inline","padding","Component","Head","goBack","leftShow","go","gotoSearch","props","rightShow","typeShow","position","mode","icon","type","onLeftClick","rightContent","key","right","top","lineHeight","showAlert","alert","msg","alertInstance","text","onPress","console","log","setTimeout","close","module","exports","UploadImg","handleClick","inp","click","upload","file","files","data","FormData","append","axios","url","method","contentType","processData","then","res","code","setState","pic","replace","post","result","require","src","alt","ref","el","onChange","marginTop"],"mappings":"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","file":"static/js/12.c2d499f7.chunk.js","sourcesContent":["import \"./index.scss\";\r\nimport { Head } from \"~/components/head\";\r\nimport { Button, List } from \"antd-mobile\";\r\nimport { history } from \"&/history\";\r\nimport UploadImg from \"~/components/uploadImg\";\r\nconst Item = List.Item;\r\nexport default class Mine extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      isLogin: sessionStorage.token\r\n    };\r\n  }\r\n  todoLogin = () => {\r\n    history.push(\"/login\");\r\n  };\r\n  clearLogin = () => {\r\n    sessionStorage.token = \"\";\r\n    sessionStorage.mobile = \"\";\r\n    history.push(\"/login\");\r\n  };\r\n  render() {\r\n    const { isLogin } = this.state;\r\n    return (\r\n      <div>\r\n        <Head title=\"\" mineShow={true}></Head>\r\n        <div style={{ display: isLogin ? \"block\" : \"none\" }}>\r\n          <div\r\n            style={{\r\n              width: \"100%\",\r\n              height: \"4rem\",\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              backgroundColor: \"#eee\",\r\n              background:`url(http://peng47.com/imgs/yiyan/yiyanbeijing.jpg) no-repeat`,\r\n              backgroundSize:\"100% 100%\"\r\n            }}\r\n          >\r\n            <UploadImg></UploadImg>\r\n          </div>\r\n          <List renderHeader={() => \"我的\"} className=\"my-list\">\r\n            <Item arrow=\"horizontal\" multipleLine onClick={() => {history.push(\"/ilike\")}}>\r\n              <i\r\n                className={\"iconfont icon-xihuan\"}\r\n                style={{ marginRight: \"0.1rem\" }}\r\n              ></i>\r\n              我的喜欢\r\n            </Item>\r\n            <Item arrow=\"horizontal\" multipleLine onClick={() => {history.push(\"/iconllect\")}}>\r\n              <i\r\n                className={\"iconfont icon-shuqian_B\"}\r\n                style={{ marginRight: \"0.1rem\" }}\r\n              ></i>\r\n              我的收藏\r\n            </Item>\r\n          </List>\r\n          <List renderHeader={() => \"操作\"} className=\"my-list\">\r\n            <Item arrow=\"horizontal\" onClick={() => {}}>\r\n              清除缓存\r\n            </Item>\r\n            <Item arrow=\"horizontal\" onClick={this.clearLogin}>\r\n              退出登录\r\n            </Item>\r\n          </List>\r\n          <p\r\n            style={{\r\n              textAlign: \"center\",\r\n              color: \"#ccc\",\r\n              fontFamily: \"仿宋\",\r\n              fontSize: \"0.4rem\",\r\n              margin: \"0.5rem 0\"\r\n            }}\r\n          >\r\n            一言3.31\r\n          </p>\r\n        </div>\r\n        <div\r\n          style={{ display: !isLogin ? \"block\" : \"none\", textAlign: \"center\" }}\r\n        >\r\n          <p\r\n            style={{\r\n              fontFamily: \"幼圆\",\r\n              fontSize: 25,\r\n              margin: \"2rem 0 0.4rem\"\r\n            }}\r\n          >\r\n            亲，点击登录后查看哦\r\n          </p>\r\n          <Button\r\n            onClick={this.todoLogin}\r\n            inline\r\n            style={{ padding: \"0.1rem,0.2rem\", background: \"#eee\" }}\r\n          >\r\n            去登录\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import \"./index.scss\";\r\nimport { NavBar, Icon, Modal } from \"antd-mobile\";\r\nimport { history } from \"&/history\";\r\nimport {Redirect} from \"react-router-dom\"\r\n\r\nexport class Head extends Component {\r\n  goBack = leftShow => {\r\n    if (leftShow) {\r\n      history.go(-1);\r\n    }\r\n  };\r\n  gotoSearch = () => {\r\n    history.push(\"/search\");\r\n  };\r\n  render() {\r\n    const { title, leftShow, rightShow, typeShow, mineShow } = this.props;\r\n    return (\r\n      <NavBar\r\n        style={{ position: \"relative\" }}\r\n        mode=\"light\"\r\n        icon={leftShow && <Icon style={{color:\"#333\"}} type=\"left\" />}\r\n        onLeftClick={() => this.goBack(leftShow)}\r\n        rightContent={[\r\n          rightShow && (\r\n            <Icon\r\n              key=\"0\"\r\n              type=\"search\"\r\n              style={{ marginRight: \"0.2rem\", color: \"#333\" }}\r\n              onClick={this.gotoSearch}\r\n            />\r\n          )\r\n        ]}\r\n      >\r\n        {title}\r\n        {typeShow && (\r\n          <p\r\n            style={{\r\n              position: \"absolute\",\r\n              right: \"0\",\r\n              top: \"0.3rem\",\r\n              fontSize: \"0.3rem\",\r\n              marginRight: \"0.25rem\",\r\n              lineHeight: 1\r\n            }}\r\n          >\r\n            只看评论\r\n          </p>\r\n        )}\r\n        {mineShow && (\r\n          <p\r\n            style={{\r\n              color: \"#333333\",\r\n              position: \"absolute\",\r\n              right: \"0\",\r\n              top: \"0.3rem\"\r\n            }}\r\n          >\r\n            <i\r\n              className=\"iconfont icon-biaoqing\"\r\n              onClick={() =>\r\n                showAlert(\r\n                  \"夜间模式\",\r\n                  \"称为会员后，即可使用带有暗黑主题的夜间模式，分享暗色主题卡片，以及更多高级功能。\"\r\n                )\r\n              }\r\n            ></i>\r\n            <i\r\n              className=\"iconfont icon-xingtaiduICON_sousuo--\"\r\n              onClick={() =>\r\n                showAlert(\r\n                  \"快速搜索\",\r\n                  \"称为会员后，即可快速搜索自己创建搜索自己创建/收藏的卡片，以及使用更多高级功能。\"\r\n                )\r\n              }\r\n            ></i>\r\n            <i\r\n              className=\"iconfont icon-shezhi\"\r\n              onClick={() =>history.push(\"/fit\")}\r\n            ></i>\r\n          </p>\r\n        )}\r\n      </NavBar>\r\n    );\r\n  }\r\n}\r\n\r\nconst alert = Modal.alert;\r\nconst showAlert = (title, msg) => {\r\n  const alertInstance = alert(title, msg, [\r\n    { text: \"取消\", onPress: () => console.log(\"cancel\"), style: \"default\" },\r\n    { text: \"了解会员\", onPress: () => console.log(\"ok\") }\r\n  ]);\r\n  setTimeout(() => {\r\n    // 可以调用close方法以在外部close\r\n    console.log(\"auto close\");\r\n    alertInstance.close();\r\n  }, 500000);\r\n};\r\n","module.exports = __webpack_public_path__ + \"static/media/touxiang.19c571b0.jpg\";","import \"./index.scss\";\r\nimport { axios } from \"&\";\r\nimport { connect } from \"react-redux\";\r\n\r\n// @connect(state=>{\r\n//     return {\r\n//         touxiang:state.getIn([\"data\",\"touxiang\"])\r\n//     }\r\n// })\r\nexport default class UploadImg extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      pic: \"\",\r\n      mobile: sessionStorage.mobile ? sessionStorage.mobile : \"\"\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    axios.post(\"/react/getAvatar\").then(res => {\r\n      if (!!res.data.type) {\r\n        this.setState({\r\n          pic: res.data.result.pic.replace(/public/, \"https://peng47.com:1907/\")\r\n        });\r\n      } else {\r\n        this.setState({\r\n          pic: require(\"@/assets/images/touxiang.jpg\")\r\n        });\r\n      }\r\n    });\r\n  }\r\n  handleClick = () => {\r\n    this.inp.click();\r\n  };\r\n\r\n  upload = () => {\r\n    console.log(\"马上上传图片....\");\r\n    const file = this.inp.files[0];\r\n    const data = new FormData();\r\n    data.append(\"avatar\", file);\r\n    axios({\r\n      url: \"/react/uploadAvatar\",\r\n      method: \"POST\",\r\n      data: data,\r\n      contentType: false,\r\n      processData: false\r\n    }).then(res => {\r\n      if (res.data.code == 200) {\r\n        this.setState({\r\n          pic: res.data.pic.replace(/public/, \"https://peng47.com:1907/\")\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <img\r\n          src={this.state.pic}\r\n          alt=\"\"\r\n          onClick={this.handleClick}\r\n          className=\"touxiang\"\r\n        />\r\n        <input\r\n          ref={el => (this.inp = el)}\r\n          style={{ display: \"none\" }}\r\n          onChange={this.upload}\r\n          type=\"file\"\r\n        />\r\n        <p style={{marginTop:\"0.2rem\"}}>{this.state.mobile}</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}