{"version":3,"sources":["scripts/views/search/index.js","assets/images/touxiang.jpg","scripts/components/demo/index.js"],"names":["tabs","title","Search","goBack","history","go","state","searchList","pic","require","todoSearch","value","autoFocusInst","axios","get","params","keyword","then","res","setState","data","result","this","focus","placeholder","ref","onCancel","onSubmit","initialPage","tabBarInactiveTextColor","tabBarActiveTextColor","tabBarUnderlineStyle","border","onChange","tab","index","onTabClick","map","item","i","RegExp","test","hitokoto","key","word","creator","Component","module","exports","Item","ViewDemo","props","renderHeader","className","thumb","style","display","position","color","boxShadow","background","textAlign","width","marginLeft","paddingBottom","href","id","src","img","alt","verticalAlign","height","marginBottom","onLoad","window","dispatchEvent","Event","padding","overflow","whiteSpace","textOverflow","from","type","text"],"mappings":"2UAMMA,EAAO,CAAC,CAAEC,MAAO,gBAAQ,CAAEA,MAAO,iBACnBC,E,2MACnBC,OAAS,WACPC,IAAQC,IAAI,I,EAKdC,MAAQ,CACNC,WAAY,GACZC,IAAKC,EAAQ,M,EAEfC,WAAa,WACX,IAAIC,EAAQ,EAAKC,cAAcN,MAAMK,MACrCE,IACGC,IAAI,mBAAoB,CACvBC,OAAQ,CACNC,QAASL,KAGZM,MAAK,SAAAC,GACJ,EAAKC,SAAS,CACZZ,WAAYW,EAAIE,KAAKC,a,mFAhB3BC,KAAKV,cAAcW,U,+BAoBX,IAAD,SACqBD,KAAKhB,MAAzBC,EADD,EACCA,WAAYC,EADb,EACaA,IACpB,OACE,2BACE,qBACEgB,YAAY,mDACZC,IAAK,SAAAA,GAAG,OAAK,EAAKb,cAAgBa,GAClCC,SAAUJ,KAAKnB,OACfwB,SAAUL,KAAKZ,aAEjB,qBACEV,KAAMA,EACN4B,YAAa,EACbC,wBAAwB,OACxBC,sBAAsB,OACtBC,qBAAsB,CAAEC,OAAQ,QAChCC,SAAU,SAACC,EAAKC,GACd,EAAKvB,cAAcW,SAErBa,WAAY,SAACF,EAAKC,GAChB,EAAKvB,cAAcW,UAGrB,2BACGhB,EAAW8B,KAAI,SAACC,EAAMC,GACrB,GACE,IAAIC,OAAO,EAAK5B,cAAcN,MAAMK,OAAO8B,KAAKH,EAAKI,UAErD,OAAO,gBAAC,IAAD,CAAUC,IAAKJ,EAAGK,KAAMN,EAAM9B,IAAKA,QAIhD,2BACGD,EAAW8B,KAAI,SAACC,EAAMC,GACrB,GACE,IAAIC,OAAO,EAAK5B,cAAcN,MAAMK,OAAO8B,KAAKH,EAAKO,SAErD,OAAO,gBAAC,IAAD,CAAUF,IAAKJ,EAAGK,KAAMN,EAAM9B,IAAKA,SAKlD,+B,GAnE4BsC,I,oDCPpCC,EAAOC,QAAU,IAA0B,sC,yJCErCC,G,OAAO,IAAKA,MAELC,EAAb,iLAEY,IAAD,EACe5B,KAAK6B,MAAnBP,EADD,EACCA,KAAMpC,EADP,EACOA,IACd,OACE,2BACE,qBAAM4C,aAAc,iBAAM,IAAIC,UAAU,WACtC,gBAACJ,EAAD,CAAOK,MAAO9C,GACXoC,EAAKC,UAGV,yBACE,uBACEU,MAAO,CACLC,QAAS,QACTC,SAAU,WACVC,MAAO,OACPC,UAAW,2CACXC,WAAY,OACZC,UAAW,SACXC,MAAO,MACPC,WAAY,SACZC,cAAe,WAGjB,qBACEC,KAAI,mBAAcrB,EAAKsB,IACvBX,MAAO,CACLC,QAAS,QACTC,SAAU,WACVC,MAAO,SAGT,uBACES,IAAKvB,EAAKwB,IACVC,IAAI,GACJd,MAAO,CACLO,MAAO,OACPQ,cAAe,MACfC,OAAQ,OACRC,aAAc,QAEhBC,OAAQ,WACNC,OAAOC,cAAc,IAAIC,MAAM,cAGnC,uBACEvB,UAAU,UACVE,MAAO,CAAEE,SAAU,WAAYoB,QAAS,WAExC,qBACExB,UAAU,WACVE,MAAO,CACLgB,OAAQ,OACRC,aAAc,WAGf5B,EAAKF,UAER,qBACEW,UAAU,YACVE,MAAO,CACLM,UAAW,SACXiB,SAAU,SACVhB,MAAO,OACPiB,WAAY,SACZC,aAAc,aAPlB,UAUKpC,EAAKqC,KAVV,YAaF,qBAAG1B,MAAO,CAAEQ,WAAY,SAAUF,UAAW,SAA7C,IACIjB,EAAKsC,KAAKC,cAzE5B,GAA8BrC,K","file":"static/js/14.fc6c1d92.chunk.js","sourcesContent":["// import { Head } from \"~/components/head\";\r\nimport \"./index.scss\";\r\nimport { SearchBar, Tabs, WhiteSpace, List } from \"antd-mobile\";\r\nimport { history } from \"&/history\";\r\nimport { axios } from \"&\";\r\nimport { ViewDemo } from \"../../components/demo\";\r\nconst tabs = [{ title: \"文字\" }, { title: \"用户\" }];\r\nexport default class Search extends Component {\r\n  goBack = () => {\r\n    history.go(-1);\r\n  };\r\n  componentDidMount() {\r\n    this.autoFocusInst.focus();\r\n  }\r\n  state = {\r\n    searchList: [],\r\n    pic: require(\"@/assets/images/touxiang.jpg\")\r\n  };\r\n  todoSearch = () => {\r\n    var value = this.autoFocusInst.state.value;\r\n    axios\r\n      .get(\"/react/getSearch\", {\r\n        params: {\r\n          keyword: value\r\n        }\r\n      })\r\n      .then(res => {\r\n        this.setState({\r\n          searchList: res.data.result\r\n        });\r\n      });\r\n  };\r\n  render() {\r\n    const { searchList, pic } = this.state;\r\n    return (\r\n      <div>\r\n        <SearchBar\r\n          placeholder=\"搜索文字或用户名\"\r\n          ref={ref => (this.autoFocusInst = ref)}\r\n          onCancel={this.goBack}\r\n          onSubmit={this.todoSearch}\r\n        />\r\n        <Tabs\r\n          tabs={tabs}\r\n          initialPage={0}\r\n          tabBarInactiveTextColor=\"#ccc\"\r\n          tabBarActiveTextColor=\"#000\"\r\n          tabBarUnderlineStyle={{ border: \"none\" }}\r\n          onChange={(tab, index) => {\r\n            this.autoFocusInst.focus();\r\n          }}\r\n          onTabClick={(tab, index) => {\r\n            this.autoFocusInst.focus();\r\n          }}\r\n        >\r\n          <div>\r\n            {searchList.map((item, i) => {\r\n              if (\r\n                new RegExp(this.autoFocusInst.state.value).test(item.hitokoto)\r\n              ) {\r\n                return <ViewDemo key={i} word={item} pic={pic}></ViewDemo>;\r\n              }\r\n            })}\r\n          </div>\r\n          <div>\r\n            {searchList.map((item, i) => {\r\n              if (\r\n                new RegExp(this.autoFocusInst.state.value).test(item.creator)\r\n              ) {\r\n                return <ViewDemo key={i} word={item} pic={pic}></ViewDemo>;\r\n              }\r\n            })}\r\n          </div>\r\n        </Tabs>\r\n        <WhiteSpace />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/touxiang.19c571b0.jpg\";","import \"./index.scss\";\r\nimport { List } from \"antd-mobile\";\r\nconst Item = List.Item;\r\n\r\nexport class ViewDemo extends Component {\r\n  \r\n  render() {\r\n    const { word, pic } = this.props;\r\n    return (\r\n      <div>\r\n        <List renderHeader={() => \"\"} className=\"my-list\">\r\n          <Item  thumb={pic}>\r\n            {word.creator}\r\n          </Item>\r\n        </List>\r\n        <List>\r\n          <div\r\n            style={{\r\n              display: \"block\",\r\n              position: \"relative\",\r\n              color: \"#333\",\r\n              boxShadow: \"1px 1px 1px 1px rgba(192, 192, 192, 0.8)\",\r\n              background: \"#fff\",\r\n              textAlign: \"center\",\r\n              width: \"80%\",\r\n              marginLeft: \"0.8rem\",\r\n              paddingBottom: \"0.2rem\"\r\n            }}\r\n          >\r\n            <a\r\n              href={`#/detail/${word.id}`}\r\n              style={{\r\n                display: \"block\",\r\n                position: \"relative\",\r\n                color: \"#333\"\r\n              }}\r\n            >\r\n              <img\r\n                src={word.img}\r\n                alt=\"\"\r\n                style={{\r\n                  width: \"100%\",\r\n                  verticalAlign: \"top\",\r\n                  height: \"3rem\",\r\n                  marginBottom: \"1rem\"\r\n                }}\r\n                onLoad={() => {\r\n                  window.dispatchEvent(new Event(\"resize\"));\r\n                }}\r\n              />\r\n              <div\r\n                className=\"content\"\r\n                style={{ position: \"relative\", padding: \"0.4rem\" }}\r\n              >\r\n                <p\r\n                  className=\"hitokoto\"\r\n                  style={{\r\n                    height: \"3rem\",\r\n                    marginBottom: \"0.2rem\"\r\n                  }}\r\n                >\r\n                  {word.hitokoto}\r\n                </p>\r\n                <p\r\n                  className=\"fromTitle\"\r\n                  style={{\r\n                    textAlign: \"center\",\r\n                    overflow: \"hidden\",\r\n                    width: \"100%\",\r\n                    whiteSpace: \"nowrap\",\r\n                    textOverflow: \"ellipsis\"\r\n                  }}\r\n                >\r\n                  -《{word.from}》-\r\n                </p>\r\n              </div>\r\n              <p style={{ marginLeft: \"0.1rem\", textAlign: \"left\" }}>\r\n                #{word.type.text}\r\n              </p>\r\n            </a>\r\n          </div>\r\n        </List>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}