{"version":3,"sources":["scripts/views/home/index.js","scripts/components/head/index.js"],"names":["Home","connect","state","banner","getIn","imgHeight","this","props","dispatch","getWord","url","title","rightShow","leftShow","className","frameOverflow","cellSpacing","slideWidth","dots","map","word","i","key","style","display","position","top","slideIndex","boxShadow","color","height","background","href","id","src","img","alt","width","verticalAlign","marginBottom","onLoad","window","dispatchEvent","Event","padding","hitokoto","textAlign","overflow","whiteSpace","textOverflow","from","marginLeft","type","text","creator","Component","Head","goBack","history","go","gotoSearch","push","typeShow","mineShow","mode","icon","onLeftClick","rightContent","marginRight","onClick","right","fontSize","lineHeight","showAlert","alert","msg","alertInstance","onPress","console","log","setTimeout","close"],"mappings":"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","file":"static/js/16.3ee111db.chunk.js","sourcesContent":["import \"./index.scss\";\r\nimport { Head } from \"~/components/head\";\r\nimport { history } from \"&/history\";\r\nimport { WingBlank, Carousel } from \"antd-mobile\";\r\nimport { connect } from \"react-redux\";\r\nimport { getWord } from \"../../actions\";\r\n@connect(state => {\r\n  return {\r\n    banner: state.getIn([\"data\", \"banner\"])\r\n  };\r\n})\r\nexport default class Home extends Component {\r\n  state ={\r\n    imgHeight: 176,\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(\r\n      getWord({\r\n        url: \"/react/getWord\"\r\n      })\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { banner } = this.props;\r\n    return (\r\n      <div>\r\n        <Head title=\"订阅\" rightShow={false} leftShow={false}></Head>\r\n        <WingBlank>\r\n          <Carousel\r\n            className=\"space-carousel\"\r\n            frameOverflow=\"visible\"\r\n            cellSpacing={10}\r\n            slideWidth={0.9}\r\n            dots={false}\r\n          >\r\n            {banner.map((word, i) => (\r\n              <div\r\n                key={i}\r\n                style={{\r\n                  display: \"block\",\r\n                  position: \"relative\",\r\n                  top: this.state.slideIndex === i ? -10 : 0,\r\n                  boxShadow: \"2px 2px 2px 2px rgba(192, 192, 192, 0.8)\",\r\n                  color: \"#333\",\r\n                  height: \"10rem\",\r\n                  background: \"#fff\"\r\n                }}\r\n              >\r\n                <a\r\n                  // key={i}\r\n                  href={`#/detail/${word.id}`}\r\n                  style={{\r\n                    display: \"block\",\r\n                    color: \"#333\"\r\n                  }}\r\n                >\r\n                  <img\r\n                    src={word.img}\r\n                    alt=\"\"\r\n                    style={{\r\n                      width: \"100%\",\r\n                      verticalAlign: \"top\",\r\n                      height: \"3rem\",\r\n                      marginBottom: \"1.6rem\"\r\n                    }}\r\n                    onLoad={() => {\r\n                      window.dispatchEvent(new Event(\"resize\"));\r\n                    }}\r\n                  />\r\n                  <div\r\n                    className=\"content\"\r\n                    style={{ position: \"relative\", padding: \"0.4rem\" }}\r\n                  >\r\n                    <p\r\n                      className=\"hitokoto\"\r\n                      style={{\r\n                        height: \"2.5rem\",\r\n                        marginBottom: \"0.2rem\"\r\n                      }}\r\n                    >\r\n                      {word.hitokoto}\r\n                    </p>\r\n                    <p\r\n                      className=\"fromTitle\"\r\n                      style={{\r\n                        textAlign: \"center\",\r\n                        overflow: \"hidden\",\r\n                        width: \"100%\",\r\n                        whiteSpace: \"nowrap\",\r\n                        textOverflow: \"ellipsis\"\r\n                      }}\r\n                    >\r\n                      -《{word.from}》-\r\n                    </p>\r\n                  </div>\r\n                  <p style={{ marginLeft: \"0.1rem\" }}>#{word.type.text}</p>\r\n                  <p\r\n                    style={{\r\n                      marginLeft: \"0.1rem\",\r\n                      overflow: \"hidden\",\r\n                      width: \"100%\",\r\n                      whiteSpace: \"nowrap\",\r\n                      textOverflow: \"ellipsis\"\r\n                    }}\r\n                  >\r\n                    {word.creator} 摘抄于 {word.from}\r\n                  </p>\r\n                </a>\r\n              </div>\r\n            ))}\r\n          </Carousel>\r\n        </WingBlank>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import \"./index.scss\";\r\nimport { NavBar, Icon, Modal } from \"antd-mobile\";\r\nimport { history } from \"&/history\";\r\nimport {Redirect} from \"react-router-dom\"\r\n\r\nexport class Head extends Component {\r\n  goBack = leftShow => {\r\n    if (leftShow) {\r\n      history.go(-1);\r\n    }\r\n  };\r\n  gotoSearch = () => {\r\n    history.push(\"/search\");\r\n  };\r\n  render() {\r\n    const { title, leftShow, rightShow, typeShow, mineShow } = this.props;\r\n    return (\r\n      <NavBar\r\n        style={{ position: \"relative\" }}\r\n        mode=\"light\"\r\n        icon={leftShow && <Icon style={{color:\"#333\"}} type=\"left\" />}\r\n        onLeftClick={() => this.goBack(leftShow)}\r\n        rightContent={[\r\n          rightShow && (\r\n            <Icon\r\n              key=\"0\"\r\n              type=\"search\"\r\n              style={{ marginRight: \"0.2rem\", color: \"#333\" }}\r\n              onClick={this.gotoSearch}\r\n            />\r\n          )\r\n        ]}\r\n      >\r\n        {title}\r\n        {typeShow && (\r\n          <p\r\n            style={{\r\n              position: \"absolute\",\r\n              right: \"0\",\r\n              top: \"0.3rem\",\r\n              fontSize: \"0.3rem\",\r\n              marginRight: \"0.25rem\",\r\n              lineHeight: 1\r\n            }}\r\n          >\r\n            只看评论\r\n          </p>\r\n        )}\r\n        {mineShow && (\r\n          <p\r\n            style={{\r\n              color: \"#333333\",\r\n              position: \"absolute\",\r\n              right: \"0\",\r\n              top: \"0.3rem\"\r\n            }}\r\n          >\r\n            <i\r\n              className=\"iconfont icon-biaoqing\"\r\n              onClick={() =>\r\n                showAlert(\r\n                  \"夜间模式\",\r\n                  \"称为会员后，即可使用带有暗黑主题的夜间模式，分享暗色主题卡片，以及更多高级功能。\"\r\n                )\r\n              }\r\n            ></i>\r\n            <i\r\n              className=\"iconfont icon-xingtaiduICON_sousuo--\"\r\n              onClick={() =>\r\n                showAlert(\r\n                  \"快速搜索\",\r\n                  \"称为会员后，即可快速搜索自己创建搜索自己创建/收藏的卡片，以及使用更多高级功能。\"\r\n                )\r\n              }\r\n            ></i>\r\n            <i\r\n              className=\"iconfont icon-shezhi\"\r\n              onClick={() =>history.push(\"/fit\")}\r\n            ></i>\r\n          </p>\r\n        )}\r\n      </NavBar>\r\n    );\r\n  }\r\n}\r\n\r\nconst alert = Modal.alert;\r\nconst showAlert = (title, msg) => {\r\n  const alertInstance = alert(title, msg, [\r\n    { text: \"取消\", onPress: () => console.log(\"cancel\"), style: \"default\" },\r\n    { text: \"了解会员\", onPress: () => console.log(\"ok\") }\r\n  ]);\r\n  setTimeout(() => {\r\n    // 可以调用close方法以在外部close\r\n    console.log(\"auto close\");\r\n    alertInstance.close();\r\n  }, 500000);\r\n};\r\n"],"sourceRoot":""}