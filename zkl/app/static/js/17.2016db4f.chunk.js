(window["webpackJsonpreact-cli"]=window["webpackJsonpreact-cli"]||[]).push([[17],{220:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",function(){return k});n(229);var i,c=n(230),o=n.n(c),r=(n(111),n(112)),l=n.n(r),s=(n(231),n(232)),u=n.n(s),p=n(37),h=n(38),f=n(40),g=n(39),b=n(41),m=(n(233),n(234)),d=n.n(m),y=(n(221),n(73)),v=(n(31),n(71)),O=n(72),j=d.a.Item,k=Object(v.b)()(i=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(i)))).goback=function(e){e&&(n.props.dispatch(Object(O.b)(localStorage.oldTab)),y.a.go(-1))},n.gotoSearch=function(){y.a.push("/search")},n}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.show,i=t.search,c=t.login,r=t.scan;return a.createElement(o.a,{mode:"dark",icon:n&&a.createElement(l.a,{type:"left"}),onLeftClick:function(){return e.goback(n)},rightContent:[!i&&a.createElement(l.a,{key:"0",onClick:this.gotoSearch,type:"search",style:{marginRight:"16px"}}),a.createElement(E,{key:1,login:c,scan:r})]}," ",this.props.title)}}]),t}(e))||i,w=function(e){return a.createElement("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/".concat(e,".svg"),className:"am-icon am-icon-xs",alt:""})},E=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(f.a)(this,Object(g.a)(t).call(this))).handleVisibleChange=function(t){e.setState({visible:t})},e.onSelect=function(t){e.setState({visible:!1}),console.log(t);var n=t.props.value;"scan"==n?y.a.push("/scan"):"login"==n?y.a.push("/login"):e.showActionSheet()},e.showActionSheet=function(){var e=["\u62cd\u6444","\u4ece\u624b\u673a\u76f8\u518c\u9009\u62e9","\u5220\u9664","\u53d6\u6d88"];u.a.showActionSheetWithOptions({options:e,cancelButtonIndex:e.length-1,destructiveButtonIndex:e.length-2,message:"wh1906",maskClosable:!0,"data-seed":"logId",wrapProps:{onTouchStart:function(e){return e.preventDefault()}}},function(e){console.log(e)})},e.state={visible:!1},e}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.login,n=e.scan;return a.createElement(d.a,{mask:!0,overlayClassName:"fortest",overlayStyle:{color:"currentColor"},visible:this.state.visible,overlay:[!n&&a.createElement(j,{key:"4",value:"scan",icon:w("tOtXhkIWzwotgGSeptou"),"data-seed":"logId"},"\u626b\u4e00\u626b"),a.createElement(j,{key:"5",value:"photo",icon:w("PKAgAqZWJVNwKsAJSmXd"),style:{whiteSpace:"nowrap"}},"\u62cd\u7167"),!t&&a.createElement(j,{key:"6",value:"login",icon:w("uQIYTFeRrjPELImDRrPt")},a.createElement("span",{style:{marginRight:5}},"\u767b\u5f55"))],align:{overflow:{adjustY:0,adjustX:0},offset:[-10,0]},onVisibleChange:this.handleVisibleChange,onSelect:this.onSelect},a.createElement("div",{style:{height:"100%",padding:"0 15px",marginRight:"-15px",display:"flex",alignItems:"center"}},a.createElement(l.a,{type:"ellipsis"})))}}]),t}(e)}).call(this,n(0).Component,n(0))},221:function(e,t,n){},257:function(e,t,n){"use strict";var a,i,c,o=n(74),r=n(239),l=n(37),s=n(240),u=(n(241),n(222));function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var h=(a=function e(){Object(l.a)(this,e),Object(r.a)(this,"userInfo",i,this),Object(r.a)(this,"changeUserInfo",c,this)},i=Object(s.a)(a.prototype,"userInfo",[u.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{isLogin:!1}}}),c=Object(s.a)(a.prototype,"changeUserInfo",[u.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.userInfo=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach(function(t){Object(o.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e.userInfo,{},t)}}}),a);t.a=new h},399:function(e,t,n){"use strict";n.r(t),function(e,a){n.d(t,"default",function(){return w});n(223);var i,c=n(225),o=n.n(c),r=(n(400),n(402)),l=n.n(r),s=(n(237),n(238)),u=n.n(s),p=n(37),h=n(38),f=n(40),g=n(39),b=n(41),m=(n(447),n(220)),d=n(448),y=(n(31),n(73)),v=n(71),O=n(72),j=n(257),k=n(253),w=Object(v.b)(function(e){return{banner:e.getIn(["data","banner"]),user:e.get("user")}})(i=Object(k.a)(i=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(f.a)(this,Object(g.a)(t).call(this))).todoLogin=function(){y.a.push("/login")},e.state={autoplay:!0,isLogin:sessionStorage.token},e}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.banner.length||(console.log("init"),this.props.dispatch(Object(O.e)({url:"/vue/movie",params:{limit:8}})))}},{key:"render",value:function(){var e=this.state.isLogin,t=this.props.user,n=j.a.userInfo;return a.createElement("div",{className:"indexview"},a.createElement(m.a,{title:"\u4e2a\u4eba\u4e2d\u5fc3"}),a.createElement("div",{style:{display:e?"block":"none"}},a.createElement("h2",null,"Mine \u4e2a\u4eba\u4e2d\u5fc3 ....  ",t.get("mobile"),"  "),a.createElement("h2",null," token === ",sessionStorage.token),a.createElement("h2",null,"token 2----- ",n.token,"  "),a.createElement("h2",null," ",a.createElement("img",{style:{width:50,height:50},src:t.get("pic"),alt:""})),a.createElement(d.a,null)),a.createElement("div",{style:{display:e?"none":"block"}},a.createElement("h2",null,"\u4f60\u8fd8\u6ca1\u6709\u767b\u5f55, \u8bf7\u9a6c\u4e0a\u767b\u5f55 ",a.createElement(u.a,{onClick:this.todoLogin,inline:!0,type:"primary"}," \u524d\u5f80\u767b\u9646 "))),a.createElement(o.a,null,a.createElement(l.a,{autoplay:this.state.autoplay,infinite:!0,autoplayInterval:1500,beforeChange:function(e,t){return console.log("slide from ".concat(e," to ").concat(t))},afterChangtruncateSync:!0},this.props.banner.map(function(e,t){return a.createElement("a",{key:t,href:"#/index/home",style:{display:"inline-block",width:"100%",height:300}},a.createElement("img",{src:e.images.large,alt:"",style:{width:"100%",verticalAlign:"top",height:300},onLoad:function(){window.dispatchEvent(new Event("resize"))}}))}))))}}]),t}(e))||i)||i}.call(this,n(0).Component,n(0))},447:function(e,t,n){},448:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",function(){return f});var i,c=n(37),o=n(38),r=n(40),l=n(39),s=n(41),u=(n(449),n(31)),p=n(71),h=n(72),f=Object(p.b)()(i=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(r.a)(this,Object(l.a)(t).call(this))).handleClick=function(){e.inp.click()},e.upload=function(){console.log("\u9a6c\u4e0a\u4e0a\u4f20\u56fe\u7247....");var t=e.inp.files[0],n=new FormData;n.append("avatar",t),Object(u.a)({url:"/react/uploadreact",method:"POST",data:n,contentType:!1,processData:!1}).then(function(t){200==t.data.code&&(e.setState({pic:t.data.pic.replace(/public/,"https://peng47.com:2906/")}),e.props.dispatch(Object(h.c)({pic:t.data.pic.replace(/public/,"https://peng47.com:2906/")})))})},e.state={pic:""},e}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;u.a.post("/react/getAvatar").then(function(t){t.data.type?e.setState({pic:t.data.result.pic.replace(/public/,"https://peng47.com:2906/")}):e.setState({pic:n(450)})})}},{key:"render",value:function(){var e=this;return a.createElement("div",null,a.createElement("img",{src:this.state.pic,alt:"",onClick:this.handleClick,className:"touxiang"}),a.createElement("input",{ref:function(t){return e.inp=t},style:{display:"none"},onChange:this.upload,type:"file"}))}}]),t}(e))||i}).call(this,n(0).Component,n(0))},449:function(e,t,n){},450:function(e,t,n){e.exports=n.p+"static/media/photo.00e3a0e6.png"}}]);
//# sourceMappingURL=17.2016db4f.chunk.js.map